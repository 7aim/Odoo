# Odoo Development: Sıfırdan Peşəkara

## 2. İnkişaf Mühitinin Qurulması

Odoo ilə işləməyə başlamadan əvvəl, inkişaf mühitimizi düzgün qurmağımız lazımdır. Bu bölümdə Odoo 18-in quraşdırılması, inkişaf verilənlər bazasının yaradılması və lazımi alətlərin quraşdırılması prosesini addım-addım izah edəcəyik.

### Odoo 18-in quraşdırılması

Odoo-nu müxtəlif üsullarla quraşdırmaq mümkündür. Bu bölümdə əsas quraşdırma üsullarını nəzərdən keçirəcəyik. Siz öz ehtiyaclarınıza və inkişaf mühitinizə ən uyğun olanı seçə bilərsiniz.

#### 1. Odoo-nu Git ilə mənbədən quraşdırma

Bu üsul inkişaf etdiricilər üçün ən çevik və məqsədəuyğun üsuldur, çünki kodda birbaşa dəyişikliklər etməyə imkan verir.

**Tələblər:**
- Linux/Mac/Windows işlətmə sistemi (Linux tövsiyə olunur)
- Git
- Python 3.10 və ya daha yuxarı versiya
- PostgreSQL 12 və ya daha yuxarı versiya
- Əlavə Python paketləri

**Addımlar:**

1. İlk öncə, lazımi paketləri quraşdırın (Ubuntu/Debian üçün nümunə):

```bash
sudo apt update
sudo apt install git python3-pip python3-dev python3-venv python3-wheel libxslt-dev libzip-dev libldap2-dev libsasl2-dev python3-setuptools node-less libjpeg-dev libpq-dev
```

2. PostgreSQL-i quraşdırın:

```bash
sudo apt install postgresql postgresql-client
```

3. Git deposunu klonlayın:

```bash
git clone https://github.com/odoo/odoo.git --depth 1 --branch 18.0 --single-branch odoo18
```

4. Virtual mühit yaradın və aktivləşdirin:

```bash
cd odoo18
python3 -m venv venv
source venv/bin/activate
```

5. Tələb olunan Python paketlərini quraşdırın:

```bash
pip install -r requirements.txt
```

6. Odoo istifadəçisi və verilənlər bazası yaradın:

```bash
sudo -u postgres createuser -s $USER
createdb odoo18_dev
```

7. Odoo-nu işə salın:

```bash
python3 odoo-bin -d odoo18_dev -i base --without-demo=all
```

#### 2. Docker ilə quraşdırma

Docker, Odoo-nu sürətli və izolyasiya olunmuş şəkildə quraşdırmağa imkan verir. Bu üsul xüsusilə müxtəlif Odoo versiyaları ilə işləyərkən faydalıdır.

**Tələblər:**
- Docker
- Docker Compose

**Addımlar:**

1. Docker və Docker Compose quraşdırın (əgər hələ quraşdırmamısınızsa).

2. `docker-compose.yml` faylını yaradın:

```yaml
version: '3'
services:
  db:
    image: postgres:14
    environment:
      - POSTGRES_DB=postgres
      - POSTGRES_PASSWORD=odoo
      - POSTGRES_USER=odoo
    volumes:
      - odoo18-db-data:/var/lib/postgresql/data
    networks:
      - odoo18-network

  odoo:
    image: odoo:18.0
    depends_on:
      - db
    ports:
      - "8069:8069"
    volumes:
      - ./addons:/mnt/extra-addons
      - ./etc:/etc/odoo
      - odoo18-web-data:/var/lib/odoo
    environment:
      - POSTGRES_DB=postgres
      - POSTGRES_PASSWORD=odoo
      - POSTGRES_USER=odoo
    networks:
      - odoo18-network

networks:
  odoo18-network:

volumes:
  odoo18-db-data:
  odoo18-web-data:
```

3. Konteyneri başladın:

```bash
docker-compose up -d
```

4. Brauzerdə `http://localhost:8069` ünvanına daxil olun və Odoo quraşdırma sehrbazını tamamlayın.

#### 3. Windows üçün quraşdırma spesifikasiyaları

Windows istifadəçiləri üçün əlavə addımlar tələb oluna bilər:

1. Python-u [python.org](https://www.python.org/) saytından yükləyin və quraşdırın.
2. PostgreSQL-i [postgresql.org](https://www.postgresql.org/) saytından yükləyin və quraşdırın.
3. Git-i [git-scm.com](https://git-scm.com/) saytından yükləyin və quraşdırın.

Windows üçün WSL2 (Windows Subsystem for Linux 2) istifadə etmək tövsiyə olunur, çünki bu, Linux mühitində işləməyə imkan verir və Odoo inkişafı üçün daha uyğundur.

### İnkişaf verilənlər bazasının yaradılması

Odoo-nu quraşdırdıqdan sonra, inkişaf üçün ayrıca verilənlər bazası yaratmaq yaxşı təcrübədir. Bu, istehsal verilənlərinə təsir etmədən təhlükəsiz təcrübələr aparmağa imkan verir.

#### Yeni verilənlər bazası yaratma

**CLI ilə:**

```bash
createdb odoo18_dev
```

**Odoo interfeysi ilə:**

1. Brauzerdə `http://localhost:8069/web/database/manager` ünvanına keçin.
2. "Create Database" seçin.
3. Verilənlər bazası adını, ana istifadəçi adını və şifrəni daxil edin.
4. "Create Database" düyməsini klikləyin.

#### Demo məlumatlarla verilənlər bazası yaratma

Təlim və sınaq məqsədləri üçün demo məlumatlarla verilənlər bazası yaratmaq faydalı ola bilər:

```bash
python3 odoo-bin -d odoo18_demo -i base --demo=all
```

və ya Odoo interfeysi vasitəsilə verilənlər bazası yaradarkən "Load demonstration data" seçimini işarələyin.

### Əsas konfiqurasiya

Odoo-nu effektiv şəkildə inkişaf etdirmək üçün bir neçə əsas konfiqurasiya parametrini tənzimləmək lazımdır.

#### Konfiqurasiya faylı

Odoo serveri üçün konfiqurasiya faylı yaradaq. Bu, serverin necə işləməsini tənzimləyəcək.

`odoo.conf` faylını yaradın:

```ini
[options]
addons_path = /path/to/odoo18/addons,/path/to/custom_addons
admin_passwd = admin_password
db_host = localhost
db_port = 5432
db_user = odoo
db_password = odoo
http_port = 8069
logfile = /path/to/logfile.log
log_level = debug
dev_mode = true
```

Əsas parametrlərin izahı:
- `addons_path`: Odoo-nun əlavələri (modulları) axtaracağı qovluqların siyahısı.
- `admin_passwd`: Verilənlər bazası idarəetmə interfeysi üçün admin şifrəsi.
- `db_host`, `db_port`, `db_user`, `db_password`: PostgreSQL konfiqurasiyası.
- `http_port`: Odoo serverinin dinləyəcəyi port.
- `logfile`: Log faylının yeri.
- `log_level`: Loglama səviyyəsi (debug, info, warning, error, critical).
- `dev_mode`: İnkişaf rejimini aktivləşdirir, bu da assets-lərin yenidən yüklənməsini və digər inkişaf xüsusiyyətlərini təmin edir.

#### İnkişaf rejimi parametrləri

İnkişaf zamanı əlavə parametrlər faydalı ola bilər:

```bash
python3 odoo-bin -d odoo18_dev --dev=all --log-level=debug
```

`--dev=all` parametri:
- Assets-lərin avtomatik yenilənməsi
- Şablonların yenilənməsi
- Xəta izləmə
- Əlavə loqlaşdırma

### İnkişaf alətləri və IDE-nin qurulması

Effektiv Odoo inkişafı üçün düzgün alətlər vacibdir. Bu bölümdə ən populyar və məhsuldar alətləri və IDE-ləri nəzərdən keçirəcəyik.

#### IDE seçimi

**Visual Studio Code (VS Code)**

VS Code, Odoo inkişafı üçün ən populyar və çevik IDE-lərdən biridir. Odoo inkişafını dəstəkləyən bəzi əsas əlavələr:

- Python (Microsoft)
- Pylint
- XML Tools
- Odoo Snippets
- GitLens
- Docker

VS Code-u quraşdırdıqdan sonra aşağıdakı Python əlavə tənzimləmələrini edin:
```json
{
    "python.linting.enabled": true,
    "python.linting.pylintEnabled": true,
    "python.linting.pylintArgs": [
        "--load-plugins=pylint_odoo"
    ]
}
```

Pylint Odoo pluginini quraşdırın:
```bash
pip install pylint-odoo
```

**PyCharm**

PyCharm Professional, xüsusən də böyük Odoo layihələri üçün güclü bir seçimdir. Python, XML və JavaScript dəstəyi ilə bir çox funksiya təqdim edir.

PyCharm'da Odoo inkişafı üçün tənzimləmələr:
1. Python interpretatorunu layihənizin virtual mühitinə yönləndirin.
2. Layihənizdəki Odoo qovluğunu və öz modullarınızı əlavə edin.
3. Run konfiqurasiyasında Odoo-nun başlatma parametrlərini əlavə edin:
   ```
   Parameters: -c /path/to/odoo.conf -d odoo18_dev
   ```

#### Faydalı əlavə alətlər

**Git**

Versiya idarəetmə sistemi kimi Git əvəzolunmazdır. Git CLI ilə yanaşı, GUI əsaslı Git klientləri də mövcuddur:
- GitKraken
- SourceTree
- Github Desktop

**pgAdmin**

PostgreSQL verilənlər bazası idarəetməsi üçün pgAdmin güclü və istifadəçi dostu interfeysdir. Verilənlər bazası strukturunu görüntüləmək və sorğular icra etmək üçün faydalıdır.

**Postman**

Odoo REST API ilə işləyərkən Postman, API sorğularını sınaqdan keçirmək və debug etmək üçün əla bir alətdir.

### İnkişaf Mühitinin Sınaqdan Keçirilməsi

İnkişaf mühitinizi qurduqdan sonra, hər şeyin düzgün işlədiyini yoxlamaq üçün sadə bir sınaq modulunu yaradaq.

1. Öz əlavə modullarınız üçün qovluq yaradın:

```bash
mkdir -p ~/custom_addons/test_module
```

2. `__manifest__.py` faylını yaradın:

```python
{
    'name': 'Test Module',
    'version': '1.0',
    'summary': 'Test module for Odoo 18',
    'description': 'A simple test module for Odoo 18 development',
    'author': 'Your Name',
    'category': 'Uncategorized',
    'depends': ['base'],
    'data': [
        'views/views.xml',
    ],
    'application': True,
    'installable': True,
}
```

3. `__init__.py` faylını yaradın:

```python
from . import models
```

4. `models` qovluğunu və onun içində faylları yaradın:

```bash
mkdir -p ~/custom_addons/test_module/models
```

5. `models/__init__.py` faylını yaradın:

```python
from . import test_model
```

6. `models/test_model.py` faylını yaradın:

```python
from odoo import models, fields, api

class TestModel(models.Model):
    _name = 'test.model'
    _description = 'Test Model'

    name = fields.Char(string='Name', required=True)
    description = fields.Text(string='Description')
    date = fields.Date(string='Date')
```

7. `views` qovluğunu və görünüş faylını yaradın:

```bash
mkdir -p ~/custom_addons/test_module/views
```

8. `views/views.xml` faylını yaradın:

```xml
<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_test_model_tree" model="ir.ui.view">
        <field name="name">test.model.tree</field>
        <field name="model">test.model</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="date"/>
            </tree>
        </field>
    </record>

    <record id="view_test_model_form" model="ir.ui.view">
        <field name="name">test.model.form</field>
        <field name="model">test.model</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="date"/>
                        <field name="description"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_test_model" model="ir.actions.act_window">
        <field name="name">Test Model</field>
        <field name="res_model">test.model</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="menu_test_root" name="Test Module"/>
    <menuitem id="menu_test_model" name="Test Models" parent="menu_test_root" action="action_test_model"/>
</odoo>
```

9. Odoo-ya əlavələr yolunu göstərin:

Odoo konfiqurasiya faylında `addons_path` parametrini düzəltdiyinizdən əmin olun:
```ini
addons_path = /path/to/odoo18/addons,/path/to/custom_addons
```

10. Odoo serveri başladın:

```bash
python3 odoo-bin -c /path/to/odoo.conf -d odoo18_dev
```

11. Brauzerdə Odoo-ya daxil olun və "Apps" menyusuna keçin. "Test Module" axtarın və quraşdırın.

Quraşdırmadan sonra yeni "Test Module" menyusu görünməlidir. Bu modulda verilənlər yarada bilməyiniz inkişaf mühitinizin düzgün qurulduğunu göstərir.

### Nəticə

Bu bölümdə Odoo 18 üçün inkişaf mühitinin qurulması prosesini addım-addım izah etdik. Müxtəlif quraşdırma üsullarını, verilənlər bazasının yaradılmasını, konfiqurasiya parametrlərini və lazımi inkişaf alətlərini nəzərdən keçirdik. Həmçinin sadə bir test modulu yaradaraq, mühitimizin işlək olduğunu sınaqdan keçirdik.

İnkişaf mühitini düzgün qurmaq, Odoo ilə işləməyə başlamaq üçün əsas addımdır. Növbəti bölümdə Odoo-nun əsaslarını və modulların strukturunu daha ətraflı araşdıracağıq.

---

**Praktiki tapşırıq:**

1. Odoo 18-i yuxarıda göstərilən üsullardan birini istifadə edərək quraşdırın.
2. İki ayrı verilənlər bazası yaradın: biri demo məlumatlarla, biri isə boş.
3. Test modulunu yaradın və inkişaf mühitinizin işlədiyini təsdiqləyin.
4. VS Code və ya PyCharm IDE-ni konfiqurasiya edin.
5. Quraşdırma zamanı qarşılaşdığınız çətinlikləri və həll yollarını qeyd edin.
