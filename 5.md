# Odoo Development: Sıfırdan Peşəkara

## 5. Görünüşlər (Views)

Görünüşlər, Odoo-da istifadəçi interfeysi elementlərini təyin edən strukturlardır. Onlar, məlumatların necə göstəriləcəyini və istifadəçilərin məlumatlarla necə qarşılıqlı əlaqədə olacağını müəyyən edir. Bu bölümdə, Odoo-da mövcud olan müxtəlif görünüş növlərini və onların necə yaradılacağını ətraflı şəkildə öyrənəcəyik.

### Görünüşlərin əsasları

#### Görünüş nədir?

Görünüş, Odoo-da məlumatların təqdimatını idarə edən XML strukturudur. Hər bir görünüş, verilənlər bazasında `ir.ui.view` modelində saxlanılır və müəyyən bir model üçün məlumatların necə göstəriləcəyini təyin edir.

Görünüşlər, biznes məlumatlarını istifadəçilərə təqdim etmək və onlarla qarşılıqlı əlaqə qurmaq üçün vacibdir. Onlar, modellər tərəfindən saxlanılan məlumatları vizual şəkildə təqdim edir və istifadəçilərə bu məlumatları yaratmaq, oxumaq, yeniləmək və silmək imkanı verir.

#### Görünüş növləri

Odoo-da bir neçə görünüş növü mövcuddur, hər biri müxtəlif məqsədlər üçün:

1. **Form görünüşü**: Bir qeydi detallı şəkildə göstərmək və redaktə etmək üçün.
2. **Tree/List görünüşü**: Qeydləri siyahı şəklində göstərmək üçün.
3. **Kanban görünüşü**: Qeydləri kartlar şəklində göstərmək üçün.
4. **Calendar görünüşü**: Qeydləri təqvim formatında göstərmək üçün.
5. **Pivot görünüşü**: Qeydlərin pivotlu analizini göstərmək üçün.
6. **Graph görünüşü**: Qeydləri qrafik formatında göstərmək üçün.
7. **Activity görünüşü**: Fəaliyyətləri planlaşdırmaq və izləmək üçün.
8. **Gantt görünüşü**: Layihə planlaşdırması üçün (Enterprise versiyada).
9. **Cohort görünüşü**: Kohorta əsaslanan analiz üçün (Enterprise versiyada).
10. **Dashboard görünüşü**: Bir neçə görünüşü birləşdirərək idarəetmə paneli yaratmaq üçün.
11. **Search görünüşü**: Qeydləri süzmək və qruplaşdırmaq üçün.

#### Görünüşün strukturu

Görünüşlər, XML sənədləri içində təyin edilir və standart bir strukturu izləyir:

```xml
<record id="view_id" model="ir.ui.view">
    <field name="name">view.technical.name</field>
    <field name="model">model.name</field>
    <field name="type">form</field>
    <field name="arch" type="xml">
        <!-- Görünüşün əsas strukturu burada təyin edilir -->
    </field>
</record>
```

Əsas atributlar:
- `id`: Görünüşün unikal identifikatoru.
- `name`: Görünüşün texniki adı.
- `model`: Görünüşün tətbiq olunduğu model.
- `type`: Görünüşün növü (form, tree, kanban və s.).
- `arch`: Görünüşün XML strukturu.

Bəzi görünüşlər, əlavə atributlar da tələb edə bilər:
- `inherit_id`: Varislik alınan görünüş.
- `priority`: Görünüşün prioriteti.

### Form görünüşləri

Form görünüşləri, istifadəçilərə bir qeydi detallı şəkildə göstərmək və redaktə etmək imkanı verir. Onlar, istifadəçi interfeysi elementlərini (sahələr, düymələr, tablar və s.) qruplar halında təşkil edir.

#### Əsas form struktur elementləri

Form görünüşləri, müxtəlif struktur elementlərindən ibarət ola bilər:

1. **`<form>`**: Əsas element.
2. **`<header>`**: Yuxarı hissə, adətən status və fəaliyyət düymələrini saxlayır.
3. **`<sheet>`**: Ana məzmun bölməsi.
4. **`<group>`**: Sahələri qruplar halında təşkil edir.
5. **`<notebook>`**: Tabları təşkil edir.
6. **`<page>`**: Notebookda bir tab səhifəsi.
7. **`<field>`**: Model sahəsini göstərir.
8. **`<button>`**: Fəaliyyət düyməsi.
9. **`<separator>`**: Vizual bölücü.
10. **`<label>`**: Mətn etiketi.
11. **`<div>`, `<span>`, `<p>`, və s.**: HTML kimi struktur elementləri.

#### Sadə form görünüşü nümunəsi

```xml
<record id="view_course_form" model="ir.ui.view">
    <field name="name">education.course.form</field>
    <field name="model">education.course</field>
    <field name="arch" type="xml">
        <form>
            <header>
                <button name="action_open" string="Aç" type="object" 
                        states="draft" class="oe_highlight"/>
                <button name="action_close" string="Bağla" type="object" 
                        states="open" class="oe_highlight"/>
                <button name="action_draft" string="Qaralamaya qaytar" type="object" 
                        states="open,closed"/>
                <field name="state" widget="statusbar" 
                       statusbar_visible="draft,open,closed"/>
            </header>
            <sheet>
                <div class="oe_title">
                    <h1>
                        <field name="name" placeholder="Kurs adı..."/>
                    </h1>
                </div>
                <group>
                    <group>
                        <field name="code"/>
                        <field name="instructor_id"/>
                        <field name="max_participants"/>
                    </group>
                    <group>
                        <field name="duration"/>
                        <field name="price"/>
                        <field name="category_id"/>
                    </group>
                </group>
                <notebook>
                    <page string="Təsvir">
                        <field name="description" placeholder="Bu kurs haqqında ətraflı məlumat..."/>
                    </page>
                    <page string="Sessiyalar">
                        <field name="session_ids">
                            <tree>
                                <field name="name"/>
                                <field name="start_date"/>
                                <field name="attendee_count"/>
                                <field name="state"/>
                            </tree>
                        </field>
                    </page>
                    <page string="Etiketlər">
                        <field name="tag_ids" widget="many2many_tags"/>
                    </page>
                </notebook>
            </sheet>
            <div class="oe_chatter">
                <field name="message_follower_ids" widget="mail_followers"/>
                <field name="activity_ids" widget="mail_activity"/>
                <field name="message_ids" widget="mail_thread"/>
            </div>
        </form>
    </field>
</record>
```

#### Form görünüşü elementlərinin detallı izahı

1. **`<header>`**: Yuxarı panel - statusbar və əsas fəaliyyət düymələrini saxlayır.
   ```xml
   <header>
       <button name="action_confirm" string="Təsdiqlə" type="object" 
               states="draft" class="oe_highlight"/>
       <field name="state" widget="statusbar" 
              statusbar_visible="draft,confirmed,done"/>
   </header>
   ```

2. **`<sheet>`**: Ana məzmun sahəsi.
   ```xml
   <sheet>
       <!-- Əsas məzmun elementləri -->
   </sheet>
   ```

3. **`<group>`**: Sahələri sütunlara bölmək.
   ```xml
   <group>
       <group string="Əsas Məlumatlar">
           <field name="name"/>
           <field name="code"/>
       </group>
       <group string="Digər Məlumatlar">
           <field name="date"/>
           <field name="priority"/>
       </group>
   </group>
   ```

4. **`<notebook>` və `<page>`**: Tablar yaratmaq.
   ```xml
   <notebook>
       <page string="Əsas Məlumatlar">
           <!-- Tab məzmunu -->
       </page>
       <page string="Əlavə Məlumatlar">
           <!-- Tab məzmunu -->
       </page>
   </notebook>
   ```

5. **`<field>`**: Model sahəsini göstərmək.
   ```xml
   <field name="name" placeholder="Ad daxil edin..." required="1"/>
   ```

   **Əsas field atributları**:
   - `name`: Sahənin adı (modeldəki sahəyə istinad edir).
   - `string`: Göstəriləcək etiket (təyin edilməzsə, modeldəki string istifadə olunur).
   - `required`: Sahənin məcburi olub-olmadığı (1/0 və ya true/false).
   - `readonly`: Sahənin yalnız oxunabilən olub-olmadığı.
   - `invisible`: Sahənin görünüb-görünməməsi.
   - `widget`: İstifadə ediləcək widget (məsələn, many2many_tags, statusbar, handle).
   - `attrs`: Dinamik atributlar (domain şərtlərinə əsasən).
   - `domain`: Əlaqəli modeldəki qeydləri süzmək üçün domain.
   - `context`: Sahə üçün kontekst.
   - `options`: Widget üçün əlavə seçimlər.

6. **`<button>`**: Fəaliyyət düyməsi.
   ```xml
   <button name="action_confirm" string="Təsdiqlə" type="object" 
           class="oe_highlight" states="draft"/>
   ```

   **Əsas button atributları**:
   - `name`: Çağırılacaq metod və ya fəaliyyət ID-si.
   - `string`: Düymədə göstəriləcək mətn.
   - `type`: Düymənin növü (object, action).
   - `class`: CSS sinif (oe_highlight: vurğulu düymə).
   - `states`: Hansı vəziyyətlərdə göstəriləcəyi.
   - `context`: Əlavə kontekst.
   - `confirm`: Təsdiq mesajı.
   - `icon`: İkon adı.

7. **`<div>`, `<h1>`, `<p>`, və s.**: HTML elementləri.
   ```xml
   <div class="oe_title">
       <h1><field name="name"/></h1>
       <p>Bu bir izahat mətnidir.</p>
   </div>
   ```

8. **`<label>`**: Sahə etiketi.
   ```xml
   <label for="name" string="Kurs Adı"/>
   <field name="name"/>
   ```

#### Form görünüşü widgetləri

Odoo, müxtəlif məlumat növləri üçün müxtəlif widgetlər təqdim edir:

1. **many2one və selection widgetləri**:
   - `selection`: Standart açılan siyahı.
   - `radio`: Radio düymələri.
   - `selection_badge`: Badge-lər şəklində seçim.

2. **many2many widgetləri**:
   - `many2many_tags`: Etiketlər şəklində.
   - `many2many_checkboxes`: Checkbox-lar şəklində.

3. **Digər widgetlər**:
   - `statusbar`: Status bar.
   - `handle`: Sıra dəyişdirmək üçün.
   - `image`: Şəkil.
   - `binary`: Fayl yükləmək üçün.
   - `html`: HTML redaktoru.
   - `text`: Çoxsətirli mətn.
   - `char_domain`: Domain redaktoru.
   - `date`: Tarix seçici.
   - `datetime`: Tarix və saat seçici.
   - `float_time`: Saat formatında kəsr.
   - `monetary`: Pul vahidi.
   - `percentpie`: Faiz göstəricisi.
   - `progressbar`: Tərəqqi göstəricisi.
   - `boolean_toggle`: Açar kimi boolean.
   - `kanban_state_selection`: Kanban vəziyyəti seçimi.

```xml
<field name="state" widget="statusbar"/>
<field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color'}"/>
<field name="image" widget="image" class="oe_avatar"/>
<field name="description" widget="html"/>
<field name="sequence" widget="handle"/>
<field name="working_hours" widget="float_time"/>
<field name="completion" widget="progressbar"/>
<field name="active" widget="boolean_toggle"/>
```

#### Dinamik görünüş atributları (attrs)

`attrs` atributu, domain şərtlərinə əsasən dinamik olaraq görünüş elementlərinin davranışını və görünüşünü dəyişdirməyə imkan verir.

```xml
<field name="description" attrs="{
    'invisible': [('type', '=', 'service')],
    'readonly': [('state', 'in', ('confirmed', 'done'))],
    'required': [('type', '=', 'product')]
}"/>
```

`attrs` ilə istifadə edilə bilən əsas atributlar:
- `invisible`: Element görünməz olacaq.
- `readonly`: Element yalnız oxunabilən olacaq.
- `required`: Element məcburi olacaq.

Domain şərtləri:
- `=`, `!=`: Bərabərlik/bərabər deyil.
- `>`, `<`, `>=`, `<=`: Müqayisə operatorları.
- `in`, `not in`: Siyahıda olub-olmama.
- `like`, `ilike`: Mətn müqayisəsi.
- `&`, `|`, `!`: Məntiqi operatorlar (AND, OR, NOT).

#### Form görünüşlərində inheritance

Mövcud form görünüşlərini genişləndirmək və ya dəyişdirmək üçün inheritance istifadə olunur:

```xml
<record id="view_course_form_inherit" model="ir.ui.view">
    <field name="name">education.course.form.inherit</field>
    <field name="model">education.course</field>
    <field name="inherit_id" ref="education.view_course_form"/>
    <field name="arch" type="xml">
        <!-- Əvvəlki elementdən sonra əlavə etmək -->
        <field name="name" position="after">
            <field name="reference"/>
        </field>
        
        <!-- Mövcud elementi əvəz etmək -->
        <field name="code" position="replace">
            <field name="code" string="Kurs Kodu"/>
        </field>
        
        <!-- Elementin içinə əlavə etmək -->
        <group string="Əsas Məlumatlar" position="inside">
            <field name="color"/>
        </group>
        
        <!-- Elementin atributlarını dəyişdirmək -->
        <field name="price" position="attributes">
            <attribute name="string">Kursun Qiyməti</attribute>
            <attribute name="widget">monetary</attribute>
        </field>
        
        <!-- XPath ilə elementləri tapmaq -->
        <xpath expr="//notebook/page[1]" position="after">
            <page string="Yeni Tab">
                <field name="notes"/>
            </page>
        </xpath>
    </field>
</record>
```

`position` atributunun dəyərləri:
- `after`: Elementin sonuna əlavə edir.
- `before`: Elementin əvvəlinə əlavə edir.
- `inside`: Elementin içinə əlavə edir.
- `replace`: Elementi əvəz edir.
- `attributes`: Elementin atributlarını dəyişdirir.

### Siyahı/ağac görünüşləri

Siyahı (tree) görünüşləri, qeydləri siyahı şəklində göstərmək üçün istifadə olunur. Onlar, məlumatları cədvəl formatında təqdim edir və sıralama, filtrləmə kimi funksiyaları təmin edir.

#### Əsas siyahı görünüşü nümunəsi

```xml
<record id="view_course_tree" model="ir.ui.view">
    <field name="name">education.course.tree</field>
    <field name="model">education.course</field>
    <field name="arch" type="xml">
        <tree string="Kurslar" decoration-info="state == 'draft'" 
              decoration-success="state == 'open'" decoration-danger="state == 'closed'">
            <field name="sequence" widget="handle"/>
            <field name="name"/>
            <field name="code"/>
            <field name="instructor_id"/>
            <field name="duration"/>
            <field name="price"/>
            <field name="session_count"/>
            <field name="state"/>
        </tree>
    </field>
</record>
```

#### Siyahı görünüşü elementləri və atributları

1. **`<tree>`**: Əsas element.
   ```xml
   <tree string="Kurslar" editable="top" default_order="name asc">
       <!-- Sahələr -->
   </tree>
   ```

   **Əsas tree atributları**:
   - `string`: Siyahı başlığı.
   - `editable`: Siyahının redaktə edilə bilməsi ("top" və ya "bottom").
   - `default_order`: Standart sıralama.
   - `decoration-*`: Şərtlərə əsasən sətirlərin rəngləndirilməsi.
   - `create`, `delete`, `edit`: Bu əməliyyatların icazəli olub-olmadığı (boolean).
   - `limit`: Bir səhifədə göstəriləcək maksimum qeyd sayı.
   - `multi_edit`: Çoxlu qeydlərin eyni zamanda redaktə edilə bilməsi.

2. **`<field>`**: Sütun təyin edir.
   ```xml
   <field name="name" string="Kurs Adı"/>
   ```

   **Əsas field atributları**:
   - `name`: Sahənin adı.
   - `string`: Sütun başlığı.
   - `sum`, `avg`: Cəm və ya orta hesabla (ədədi sahələr üçün).
   - `widget`: İstifadə ediləcək widget.
   - `optional`: Sütunun gizlədilə bilməsi ("show" və ya "hide").
   - `decoration-*`: Şərtlərə əsasən hüceyrələrin rəngləndirilməsi.

3. **`<button>`**: Sətirdə düymə göstərmək.
   ```xml
   <button name="action_view_sessions" string="Sessiyalar" type="object" 
           icon="fa-calendar"/>
   ```

4. **`<control>`**: Siyahı nəzarət elementləri (alt hissədə).
   ```xml
   <control>
       <create string="Kurs Yarat"/>
       <button name="action_import" string="İdxal Et" type="object"/>
   </control>
   ```

#### Siyahı görünüşü dekorasiyaları

Odoo, şərtlərə əsasən sətirləri və hüceyrələri vurğulamaq üçün dekorasiya mexanizmi təqdim edir:

```xml
<tree decoration-info="state == 'draft'" 
      decoration-success="state == 'open'" 
      decoration-danger="state == 'closed'" 
      decoration-muted="active == False">
    <!-- Sahələr -->
</tree>
```

Mövcud dekorasiyalar:
- `decoration-info`: Mavi rəng.
- `decoration-success`: Yaşıl rəng.
- `decoration-warning`: Narıncı rəng.
- `decoration-danger`: Qırmızı rəng.
- `decoration-muted`: Boz rəng (solğun).

Sahə səviyyəsində dekorasiyalar:
```xml
<field name="price" decoration-danger="price &lt; 0"/>
```

#### Qruplar (groupby)

Siyahı görünüşləri, məlumatların qruplaşdırılmasını dəstəkləyir:

```xml
<tree string="Kurslar" default_order="name asc" expand="1">
    <field name="category_id" />
    <field name="name" />
    <field name="price" sum="Ümumi Qiymət"/>
    <field name="duration" avg="Ortalama Müddət"/>
</tree>
```

`expand` atributu, qrupların standart olaraq açıq və ya bağlı olacağını təyin edir:
- `0`: Bütün qruplar bağlı.
- `1`: Birinci səviyyəli qruplar açıq.
- `2`: İkinci səviyyəyə qədər qruplar açıq.

#### Redaktə edilə bilən siyahılar

Siyahılar, birbaşa redaktə edilə bilər, bu da məlumatların tez dəyişdirilməsinə imkan verir:

```xml
<tree string="Kurslar" editable="top">
    <!-- Sahələr -->
</tree>
```

`editable` atributunun dəyərləri:
- `top`: Yeni qeyd siyahının əvvəlinə əlavə edilir.
- `bottom`: Yeni qeyd siyahının sonuna əlavə edilir.

### Axtarış görünüşləri

Axtarış görünüşləri, istifadəçilərə məlumatları süzmək və qruplaşdırmaq imkanı verir. Onlar, istifadəçi interfeysi yuxarısında yerləşən axtarış panelini konfiqurasiya edir.

#### Əsas axtarış görünüşü nümunəsi

```xml
<record id="view_course_search" model="ir.ui.view">
    <field name="name">education.course.search</field>
    <field name="model">education.course</field>
    <field name="arch" type="xml">
        <search string="Kurslar">
            <field name="name" string="Kurs" filter_domain="['|', ('name', 'ilike', self), ('code', 'ilike', self)]"/>
            <field name="instructor_id"/>
            <field name="category_id"/>
            
            <filter string="Mənim Kurslarım" name="my_courses" 
                    domain="[('instructor_id', '=', uid)]"/>
            <filter string="Aktiv Kurslar" name="active_courses" 
                    domain="[('state', '=', 'open')]"/>
            
            <separator/>
            <filter string="Aktiv" name="active" domain="[('active', '=', True)]"/>
            <filter string="Arxivlənmiş" name="inactive" domain="[('active', '=', False)]"/>
            
            <group expand="0" string="Qruplaşdır">
                <filter string="Təlimçi" name="instructor" 
                        context="{'group_by': 'instructor_id'}"/>
                <filter string="Kateqoriya" name="category" 
                        context="{'group_by': 'category_id'}"/>
                <filter string="Status" name="state" 
                        context="{'group_by': 'state'}"/>
            </group>
        </search>
    </field>
</record>
```

#### Axtarış görünüşü elementləri və atributları

1. **`<search>`**: Əsas element.
   ```xml
   <search string="Kurslar">
       <!-- Axtarış elementləri -->
   </search>
   ```

2. **`<field>`**: Sahə üzrə axtarış.
   ```xml
   <field name="name" string="Kurs" filter_domain="['|', ('name', 'ilike', self), ('code', 'ilike', self)]"/>
   ```

   **Əsas field atributları**:
   - `name`: Sahənin adı.
   - `string`: Göstəriləcək etiket.
   - `filter_domain`: Xüsusi domain (standart axtarış yerinə).
   - `operator`: Standart operator (standart "ilike" yerinə).

3. **`<filter>`**: Sabit süzgəc.
   ```xml
   <filter string="Aktiv Kurslar" name="active_courses" domain="[('state', '=', 'open')]"/>
   ```

   **Əsas filter atributları**:
   - `string`: Göstəriləcək etiket.
   - `name`: Filtrin texniki adı.
   - `domain`: Tətbiq ediləcək domain.
   - `context`: Tətbiq ediləcək kontekst.
   - `help`: Kömək mətni.

4. **`<separator>`**: Filtrlər arasında vizual bölücü.
   ```xml
   <separator/>
   ```

5. **`<group>`**: Qruplaşdırma filtrlərini təşkil etmək.
   ```xml
   <group expand="0" string="Qruplaşdır">
       <filter string="Təlimçi" name="instructor" context="{'group_by': 'instructor_id'}"/>
   </group>
   ```

   **Əsas group atributları**:
   - `string`: Qrup başlığı.
   - `expand`: Standart olaraq açıq olub-olmadığı (0/1).

#### Qruplaşdırma filtri

Qruplaşdırma filtri, məlumatları müəyyən sahəyə görə qruplaşdırmağa imkan verir:

```xml
<filter string="Təlimçi" name="instructor" context="{'group_by': 'instructor_id'}"/>
```

Tarix sahələri üçün interval qruplaşdırması:
```xml
<filter string="Tarix" name="date" context="{'group_by': 'date:day'}"/>
```

Mümkün intervallar: `day`, `week`, `month`, `quarter`, `year`.

#### Genişləndirilmiş domain

`filter_domain` atributu, daha mürəkkəb axtarış şərtləri yaratmağa imkan verir:

```xml
<field name="name" string="Kurs" 
       filter_domain="['|', '|', ('name', 'ilike', self), ('code', 'ilike', self), ('description', 'ilike', self)]"/>
```

Burada `self` dəyəri, istifadəçinin daxil etdiyi axtarış mətninə istinad edir.

### Kanban görünüşləri

Kanban görünüşləri, qeydləri kartlar şəklində göstərir və vizual iş axınlarını idarə etmək üçün ideal seçimdir. Onlar, drag-and-drop funksionallığı və vizual göstəriciləri dəstəkləyir.

#### Əsas kanban görünüşü nümunəsi

```xml
<record id="view_course_kanban" model="ir.ui.view">
    <field name="name">education.course.kanban</field>
    <field name="model">education.course</field>
    <field name="arch" type="xml">
        <kanban default_group_by="state" records_draggable="1" class="o_kanban_small_column">
            <field name="name"/>
            <field name="instructor_id"/>
            <field name="category_id"/>
            <field name="state"/>
            <field name="color"/>
            <field name="session_count"/>
            
            <templates>
                <t t-name="kanban-box">
                    <div t-attf-class="oe_kanban_card oe_kanban_global_click o_kanban_record_has_image_fill">
                        <div class="o_dropdown_kanban dropdown">
                            <a class="dropdown-toggle o-no-caret btn" data-toggle="dropdown" href="#" role="button">
                                <span class="fa fa-ellipsis-v"/>
                            </a>
                            <div class="dropdown-menu" role="menu">
                                <a t-if="widget.editable" role="menuitem" type="edit" class="dropdown-item">Redaktə Et</a>
                                <a t-if="widget.deletable" role="menuitem" type="delete" class="dropdown-item">Sil</a>
                                <div role="separator" class="dropdown-divider"/>
                                <ul class="oe_kanban_colorpicker" data-field="color"/>
                            </div>
                        </div>
                        
                        <div class="oe_kanban_content">
                            <div class="o_kanban_record_top mb-0">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title">
                                        <field name="name"/>
                                    </strong>
                                    <small class="o_kanban_record_subtitle">
                                        <field name="code"/>
                                    </small>
                                </div>
                            </div>
                            <div class="o_kanban_record_body">
                                <div><strong>Təlimçi:</strong> <field name="instructor_id"/></div>
                                <div><strong>Kateqoriya:</strong> <field name="category_id"/></div>
                                <div class="oe_kanban_bottom_left">
                                    <span class="badge badge-pill"><t t-esc="record.session_count.value"/> Sessiya</span>
                                </div>
                            </div>
                            <div class="o_kanban_record_bottom">
                                <div class="oe_kanban_bottom_right">
                                    <field name="priority" widget="priority"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </t>
            </templates>
        </kanban>
    </field>
</record>
```

#### Kanban görünüşü elementləri və atributları

1. **`<kanban>`**: Əsas element.
   ```xml
   <kanban default_group_by="state" records_draggable="1" class="o_kanban_small_column">
       <!-- Sahələr və şablonlar -->
   </kanban>
   ```

   **Əsas kanban atributları**:
   - `default_group_by`: Standart qruplaşdırma sahəsi.
   - `records_draggable`: Qeydlərin drag-and-drop ilə köçürülə bilməsi.
   - `class`: CSS sinifləri.
   - `create`: Yeni qeyd yaratma icazəsi.
   - `delete`: Qeyd silmə icazəsi.
   - `group_create`: Yeni qrup yaratma icazəsi.
   - `group_delete`: Qrup silmə icazəsi.
   - `archivable`: Arxivləmə düyməsinin göstərilməsi.

2. **`<field>`**: Kanban kartında istifadə ediləcək sahələr.
   ```xml
   <field name="name"/>
   ```

3. **`<templates>`**: Kanban kartının strukturunu təyin edir.
   ```xml
   <templates>
       <t t-name="kanban-box">
           <!-- Kart strukturu -->
       </t>
   </templates>
   ```

4. **QWeb şablon elementləri**:
   - `t-attf-class`: Dinamik sinif atributu.
   - `t-if`: Şərti rendering.
   - `t-esc`: Dəyəri qaçış simvolları ilə göstərmək.
   - `t-raw`: Dəyəri olduğu kimi göstərmək.
   - `t-foreach`, `t-as`: Dövr yaratmaq.

#### Kanban rəng seçicisi və prioritet

Rəng seçicisi, kartların rəngləndirilməsinə imkan verir:
```xml
<ul class="oe_kanban_colorpicker" data-field="color"/>
```

Prioritet widgeti, ulduzlar şəklində prioritet təyin etməyə imkan verir:
```xml
<field name="priority" widget="priority"/>
```

#### Kanban açılan menyu

Kanban kartlarında fəaliyyətlər üçün açılan menyu:
```xml
<div class="o_dropdown_kanban dropdown">
    <a class="dropdown-toggle o-no-caret btn" data-toggle="dropdown" href="#" role="button">
        <span class="fa fa-ellipsis-v"/>
    </a>
    <div class="dropdown-menu" role="menu">
        <a t-if="widget.editable" role="menuitem" type="edit" class="dropdown-item">Redaktə Et</a>
        <a t-if="widget.deletable" role="menuitem" type="delete" class="dropdown-item">Sil</a>
        <div role="separator" class="dropdown-divider"/>
        <ul class="oe_kanban_colorpicker" data-field="color"/>
    </div>
</div>
```

#### Proqres göstəriciləri

Kanban kartlarında proqres göstəriciləri:
```xml
<div class="o_kanban_record_body">
    <div class="oe_kanban_progressbar" data-max="record.max_participants.raw_value">
        <div class="o_progress" t-att-style="'width: ' + record.taken_seats_percentage.raw_value + '%'"/>
    </div>
    <div><t t-esc="record.taken_seats_percentage.value"/>% doluluk</div>
</div>
```

### Təqvim görünüşləri

Təqvim görünüşləri, qeydləri təqvim formatında göstərməyə imkan verir. Bu, planlaşdırma və zamanlama üçün ideal seçimdir.

#### Əsas təqvim görünüşü nümunəsi

```xml
<record id="view_session_calendar" model="ir.ui.view">
    <field name="name">education.session.calendar</field>
    <field name="model">education.session</field>
    <field name="arch" type="xml">
        <calendar string="Sessiyalar" date_start="start_date" date_stop="end_date" 
                 color="instructor_id" quick_create="0" mode="month" 
                 event_open_popup="1" show_unusual_days="1">
            <field name="name"/>
            <field name="course_id"/>
        </calendar>
    </field>
</record>
```

#### Təqvim görünüşü elementləri və atributları

1. **`<calendar>`**: Əsas element.
   ```xml
   <calendar string="Sessiyalar" date_start="start_date" date_stop="end_date" 
            color="instructor_id" mode="month">
       <!-- Sahələr -->
   </calendar>
   ```

   **Əsas calendar atributları**:
   - `string`: Görünüş başlığı.
   - `date_start`: Başlama tarixi sahəsi.
   - `date_stop`: Bitmə tarixi sahəsi (optional).
   - `date_delay`: Müddət sahəsi (saat ilə, optional).
   - `color`: Rəng kodlaması üçün sahə.
   - `mode`: Standart görünüş ("day", "week", "month" və ya "year").
   - `quick_add`: Tez əlavə etmə funksiyası (boolean).
   - `event_open_popup`: Tədbiri kliklədikdə popup açılması.
   - `all_day`: Bütün gün hadisəsi sahəsi.
   - `show_unusual_days`: Qeyri-iş günlərinin vurğulanması.

2. **`<field>`**: Tədbir informasiya panelində göstəriləcək sahələr.
   ```xml
   <field name="name"/>
   ```

#### Qruplaşdırma və filtrləmə

Təqvim görünüşündə qruplaşdırma:
```xml
<calendar string="Sessiyalar" date_start="start_date" date_stop="end_date" 
         color="instructor_id" mode="month">
    <!-- Sahələr -->
    <filter name="my_sessions" string="Mənim Sessiyalarım" 
            domain="[('instructor_id', '=', uid)]"/>
</calendar>
```

### Pivot görünüşləri

Pivot görünüşləri, məlumatları cədvəl şəklində təqdim edir və dinamik analiz və qruplaşdırma imkanları təqdim edir.

#### Əsas pivot görünüşü nümunəsi

```xml
<record id="view_session_pivot" model="ir.ui.view">
    <field name="name">education.session.pivot</field>
    <field name="model">education.session</field>
    <field name="arch" type="xml">
        <pivot string="Sessiya Analizi" display_quantity="true">
            <field name="instructor_id" type="row"/>
            <field name="course_id" type="row"/>
            <field name="state" type="col"/>
            <field name="attendee_count" type="measure"/>
        </pivot>
    </field>
</record>
```

#### Pivot görünüşü elementləri və atributları

1. **`<pivot>`**: Əsas element.
   ```xml
   <pivot string="Sessiya Analizi" display_quantity="true">
       <!-- Sahələr -->
   </pivot>
   ```

   **Əsas pivot atributları**:
   - `string`: Görünüş başlığı.
   - `display_quantity`: Kəmiyyət göstəricisi (boolean).
   - `disable_linking`: Qeydlərə keçid imkanının deaktiv edilməsi.

2. **`<field>`**: Pivot cədvəlində istifadə ediləcək sahələr.
   ```xml
   <field name="instructor_id" type="row"/>
   ```

   **Əsas field atributları**:
   - `name`: Sahənin adı.
   - `type`: Sahənin pivotdakı rolu ("row", "col" və ya "measure").
   - `interval`: Tarix sahələri üçün interval ("day", "week", "month", "quarter", "year").

### Graph görünüşləri

Graph görünüşləri, məlumatları qrafik formatında təqdim edir və vizual analiz imkanları təqdim edir.

#### Əsas graph görünüşü nümunəsi

```xml
<record id="view_session_graph" model="ir.ui.view">
    <field name="name">education.session.graph</field>
    <field name="model">education.session</field>
    <field name="arch" type="xml">
        <graph string="Sessiyalar" type="bar" stacked="True">
            <field name="course_id"/>
            <field name="attendee_count" type="measure"/>
        </graph>
    </field>
</record>
```

#### Graph görünüşü elementləri və atributları

1. **`<graph>`**: Əsas element.
   ```xml
   <graph string="Sessiyalar" type="bar" stacked="True">
       <!-- Sahələr -->
   </graph>
   ```

   **Əsas graph atributları**:
   - `string`: Görünüş başlığı.
   - `type`: Qrafik növü ("bar", "line" və ya "pie").
   - `stacked`: Yığılmış qrafik (boolean, yalnız "bar" və "line" üçün).
   - `disable_linking`: Qeydlərə keçid imkanının deaktiv edilməsi.

2. **`<field>`**: Qrafikdə istifadə ediləcək sahələr.
   ```xml
   <field name="course_id"/>
   ```

   **Əsas field atributları**:
   - `name`: Sahənin adı.
   - `type`: Sahənin qrafikdəki rolu ("measure" və ya standart olaraq kateqoriya).
   - `interval`: Tarix sahələri üçün interval ("day", "week", "month", "quarter", "year").

### Dashboard görünüşləri

Dashboard görünüşləri, bir neçə görünüşü birləşdirərək ümumi məlumat paneli yaratmağa imkan verir.

#### Əsas dashboard görünüşü nümunəsi

```xml
<record id="view_education_dashboard" model="ir.ui.view">
    <field name="name">education.dashboard</field>
    <field name="model">education.session</field>
    <field name="arch" type="xml">
        <dashboard>
            <view type="graph" ref="education.view_session_graph"/>
            <group>
                <group>
                    <aggregate name="attendee_count_avg" field="attendee_count" 
                              string="Ortalama İştirakçı" group_operator="avg"/>
                    <aggregate name="session_count" string="Sessiya Sayı" group_operator="count"/>
                </group>
                <group>
                    <aggregate name="attendee_count_sum" field="attendee_count" 
                              string="Ümumi İştirakçı" group_operator="sum"/>
                    <aggregate name="course_count" field="course_id" 
                              string="Kurs Sayı" group_operator="count_distinct"/>
                </group>
            </group>
            <view type="pivot" ref="education.view_session_pivot"/>
            <view type="graph" ref="education.view_session_graph"/>
        </dashboard>
    </field>
</record>
```

#### Dashboard görünüşü elementləri

1. **`<dashboard>`**: Əsas element.
   ```xml
   <dashboard>
       <!-- Dashboard elementləri -->
   </dashboard>
   ```

2. **`<view>`**: Mövcud görünüşə istinad.
   ```xml
   <view type="graph" ref="education.view_session_graph"/>
   ```

3. **`<aggregate>`**: Statistik göstərici.
   ```xml
   <aggregate name="attendee_count_avg" field="attendee_count" 
             string="Ortalama İştirakçı" group_operator="avg"/>
   ```

   **Əsas aggregate atributları**:
   - `name`: Göstəricinin unikal adı.
   - `field`: İstifadə ediləcək sahə.
   - `string`: Göstəriləcək etiket.
   - `group_operator`: Aqreqasiya funksiyası ("sum", "avg", "min", "max", "count", "count_distinct").
   - `clickable`: Göstəriciyə klik edilə bilməsi.

4. **`<group>`**: Aqreqatları qruplaşdırmaq üçün.
   ```xml
   <group>
       <!-- Aqreqatlar -->
   </group>
   ```

### Görünüşlərin tətbiqi

İndi öyrəndiyimiz bütün görünüş növlərini tətbiq edərək, kurs və sessiya idarəetmə sistemi üçün tam bir istifadəçi interfeysi yaradaq.

#### Təhsil Sistemi üçün tam görünüş dəsti

Təhsil modulumuz üçün bütün lazımi görünüşləri təyin edək:

**Kurs form görünüşü**:
```xml
<record id="view_course_form" model="ir.ui.view">
    <field name="name">education.course.form</field>
    <field name="model">education.course</field>
    <field name="arch" type="xml">
        <form>
            <header>
                <button name="action_open" string="Aç" type="object" 
                        states="draft" class="oe_highlight"/>
                <button name="action_close" string="Bağla" type="object" 
                        states="open" class="oe_highlight"/>
                <button name="action_draft" string="Qaralamaya qaytar" type="object" 
                        states="open,closed"/>
                <field name="state" widget="statusbar" 
                       statusbar_visible="draft,open,closed"/>
            </header>
            <sheet>
                <div class="oe_button_box" name="button_box">
                    <button name="action_view_sessions" type="object" class="oe_stat_button" 
                            icon="fa-calendar">
                        <field name="session_count" string="Sessiyalar" widget="statinfo"/>
                    </button>
                    <button name="action_view_participants" type="object" class="oe_stat_button" 
                            icon="fa-users">
                        <field name="participant_count" string="İştirakçılar" widget="statinfo"/>
                    </button>
                </div>
                <field name="image" widget="image" class="oe_avatar"/>
                <div class="oe_title">
                    <label for="name" class="oe_edit_only"/>
                    <h1>
                        <field name="name" placeholder="Kurs adı..."/>
                    </h1>
                    <h2>
                        <field name="code" placeholder="Kod..."/>
                    </h2>
                </div>
                <group>
                    <group>
                        <field name="instructor_id"/>
                        <field name="category_id"/>
                        <field name="max_participants"/>
                    </group>
                    <group>
                        <field name="duration"/>
                        <field name="price" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                        <field name="currency_id" invisible="1"/>
                        <field name="active" widget="boolean_toggle"/>
                    </group>
                </group>
                <notebook>
                    <page string="Təsvir">
                        <field name="description" placeholder="Bu kurs haqqında ətraflı məlumat..." widget="html"/>
                    </page>
                    <page string="Sessiyalar">
                        <field name="session_ids">
                            <tree>
                                <field name="name"/>
                                <field name="start_date"/>
                                <field name="end_date"/>
                                <field name="attendee_count"/>
                                <field name="state"/>
                            </tree>
                        </field>
                    </page>
                    <page string="Etiketlər">
                        <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color'}"/>
                    </page>
                </notebook>
            </sheet>
            <div class="oe_chatter">
                <field name="message_follower_ids" widget="mail_followers"/>
                <field name="activity_ids" widget="mail_activity"/>
                <field name="message_ids" widget="mail_thread"/>
            </div>
        </form>
    </field>
</record>
```

**Kurs tree görünüşü**:
```xml
<record id="view_course_tree" model="ir.ui.view">
    <field name="name">education.course.tree</field>
    <field name="model">education.course</field>
    <field name="arch" type="xml">
        <tree string="Kurslar" decoration-info="state == 'draft'" 
              decoration-success="state == 'open'" decoration-muted="state == 'closed'">
            <field name="sequence" widget="handle"/>
            <field name="name"/>
            <field name="code"/>
            <field name="instructor_id"/>
            <field name="duration"/>
            <field name="price"/>
            <field name="session_count"/>
            <field name="state"/>
        </tree>
    </field>
</record>
```

**Kurs kanban görünüşü**:
```xml
<record id="view_course_kanban" model="ir.ui.view">
    <field name="name">education.course.kanban</field>
    <field name="model">education.course</field>
    <field name="arch" type="xml">
        <kanban default_group_by="state" records_draggable="1" class="o_kanban_small_column">
            <field name="name"/>
            <field name="instructor_id"/>
            <field name="category_id"/>
            <field name="state"/>
            <field name="color"/>
            <field name="session_count"/>
            <field name="participant_count"/>
            
            <templates>
                <t t-name="kanban-box">
                    <div t-attf-class="oe_kanban_card oe_kanban_global_click o_kanban_record_has_image_fill {{record.color.raw_value ? 'oe_kanban_color_' + record.color.raw_value : ''}}">
                        <div class="o_dropdown_kanban dropdown">
                            <a class="dropdown-toggle o-no-caret btn" data-toggle="dropdown" href="#" role="button">
                                <span class="fa fa-ellipsis-v"/>
                            </a>
                            <div class="dropdown-menu" role="menu">
                                <a t-if="widget.editable" role="menuitem" type="edit" class="dropdown-item">Redaktə Et</a>
                                <a t-if="widget.deletable" role="menuitem" type="delete" class="dropdown-item">Sil</a>
                                <div role="separator" class="dropdown-divider"/>
                                <ul class="oe_kanban_colorpicker" data-field="color"/>
                            </div>
                        </div>
                        
                        <div class="oe_kanban_content">
                            <div class="o_kanban_record_top mb-0">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title">
                                        <field name="name"/>
                                    </strong>
                                    <small class="o_kanban_record_subtitle">
                                        <field name="code"/>
                                    </small>
                                </div>
                            </div>
                            <div class="o_kanban_record_body">
                                <div><strong>Təlimçi:</strong> <field name="instructor_id"/></div>
                                <div><strong>Kateqoriya:</strong> <field name="category_id"/></div>
                                <div class="mt-2">
                                    <span class="badge badge-pill badge-primary">
                                        <t t-esc="record.session_count.value"/> Sessiya
                                    </span>
                                    <span class="badge badge-pill badge-info ml-2">
                                        <t t-esc="record.participant_count.value"/> İştirakçı
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </t>
            </templates>
        </kanban>
    </field>
</record>
```

**Sessiya form görünüşü**:
```xml
<record id="view_session_form" model="ir.ui.view">
    <field name="name">education.session.form</field>
    <field name="model">education.session</field>
    <field name="arch" type="xml">
        <form>
            <header>
                <button name="action_confirm" string="Təsdiqlə" type="object" 
                        states="draft" class="oe_highlight"/>
                <button name="action_done" string="Tamamla" type="object" 
                        states="confirmed" class="oe_highlight"/>
                <button name="action_cancel" string="Ləğv et" type="object" 
                        states="draft,confirmed"/>
                <button name="action_draft" string="Qaralamaya qaytar" type="object" 
                        states="cancelled"/>
                <field name="state" widget="statusbar" 
                       statusbar_visible="draft,confirmed,done"/>
            </header>
            <sheet>
                <div class="oe_title">
                    <h1>
                        <field name="name"/>
                    </h1>
                </div>
                <group>
                    <group>
                        <field name="course_id"/>
                        <field name="instructor_id"/>
                        <field name="location"/>
                    </group>
                    <group>
                        <field name="start_date"/>
                        <field name="duration"/>
                        <field name="end_date"/>
                    </group>
                </group>
                <notebook>
                    <page string="Qeydiyyatlar">
                        <field name="registration_ids">
                            <tree editable="bottom">
                                <field name="student_id"/>
                                <field name="registration_date"/>
                                <field name="state"/>
                                <field name="attendance"/>
                                <button name="action_confirm" string="Təsdiqlə" type="object" 
                                        icon="fa-check" attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                                <button name="action_attend" string="İştirak" type="object" 
                                        icon="fa-calendar-check-o" attrs="{'invisible': [('state', '!=', 'confirmed')]}"/>
                                <button name="action_cancel" string="Ləğv et" type="object" 
                                        icon="fa-times" attrs="{'invisible': [('state', 'in', ('cancelled'))]}"/>
                            </tree>
                        </field>
                    </page>
                    <page string="İştirakçılar">
                        <field name="attendee_count"/>
                        <field name="taken_seats_percentage" widget="percentpie"/>
                    </page>
                </notebook>
            </sheet>
        </form>
    </field>
</record>
```

**Sessiya calendar görünüşü**:
```xml
<record id="view_session_calendar" model="ir.ui.view">
    <field name="name">education.session.calendar</field>
    <field name="model">education.session</field>
    <field name="arch" type="xml">
        <calendar string="Sessiyalar" date_start="start_date" date_stop="end_date" 
                 color="instructor_id" mode="month" event_open_popup="1" 
                 show_unusual_days="1">
            <field name="name"/>
            <field name="course_id"/>
            <field name="location"/>
            <field name="attendee_count"/>
        </calendar>
    </field>
</record>
```

**Sessiya pivot görünüşü**:
```xml
<record id="view_session_pivot" model="ir.ui.view">
    <field name="name">education.session.pivot</field>
    <field name="model">education.session</field>
    <field name="arch" type="xml">
        <pivot string="Sessiya Analizi" display_quantity="true">
            <field name="instructor_id" type="row"/>
            <field name="course_id" type="row"/>
            <field name="state" type="col"/>
            <field name="attendee_count" type="measure"/>
        </pivot>
    </field>
</record>
```

**Sessiya graph görünüşü**:
```xml
<record id="view_session_graph" model="ir.ui.view">
    <field name="name">education.session.graph</field>
    <field name="model">education.session</field>
    <field name="arch" type="xml">
        <graph string="Sessiyalar" type="bar" stacked="True">
            <field name="course_id"/>
            <field name="attendee_count" type="measure"/>
        </graph>
    </field>
</record>
```

**Kurs search görünüşü**:
```xml
<record id="view_course_search" model="ir.ui.view">
    <field name="name">education.course.search</field>
    <field name="model">education.course</field>
    <field name="arch" type="xml">
        <search string="Kurslar">
            <field name="name" string="Kurs" filter_domain="['|', ('name', 'ilike', self), ('code', 'ilike', self)]"/>
            <field name="instructor_id"/>
            <field name="category_id"/>
            
            <filter string="Mənim Kurslarım" name="my_courses" 
                    domain="[('instructor_id', '=', uid)]"/>
            <filter string="Aktiv Kurslar" name="active_courses" 
                    domain="[('state', '=', 'open')]"/>
            
            <separator/>
            <filter string="Aktiv" name="active" domain="[('active', '=', True)]"/>
            <filter string="Arxivlənmiş" name="inactive" domain="[('active', '=', False)]"/>
            
            <group expand="0" string="Qruplaşdır">
                <filter string="Təlimçi" name="instructor" 
                        context="{'group_by': 'instructor_id'}"/>
                <filter string="Kateqoriya" name="category" 
                        context="{'group_by': 'category_id'}"/>
                <filter string="Status" name="state" 
                        context="{'group_by': 'state'}"/>
            </group>
        </search>
    </field>
</record>
```

**Fəaliyyət və menyu tərifləri**:
```xml
<!-- Kurs fəaliyyəti -->
<record id="action_courses" model="ir.actions.act_window">
    <field name="name">Kurslar</field>
    <field name="res_model">education.course</field>
    <field name="view_mode">kanban,tree,form,pivot,graph</field>
    <field name="context">{'search_default_active': 1}</field>
    <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
            İlk kursunuzu yaradın
        </p>
        <p>
            Təlim kursları və onların məzmunu haqqında məlumatları idarə edin.
        </p>
    </field>
</record>

<!-- Sessiya fəaliyyəti -->
<record id="action_sessions" model="ir.actions.act_window">
    <field name="name">Sessiyalar</field>
    <field name="res_model">education.session</field>
    <field name="view_mode">calendar,tree,form,pivot,graph</field>
    <field name="context">{'search_default_upcoming': 1}</field>
    <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
            İlk sessiyanızı yaradın
        </p>
        <p>
            Kurs sessiyalarını və
